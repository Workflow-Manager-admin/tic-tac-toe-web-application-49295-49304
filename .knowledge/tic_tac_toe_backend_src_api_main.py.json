{"is_source_file": true, "format": "Python", "description": "Main FastAPI application file for the Tic Tac Toe backend API, defining endpoints for health check, game creation, listing, retrieval, and move operations; sets up middleware, database initialization, and router inclusion.", "external_files": ["fastapi", "fastapi.middleware.cors", ".database", ".auth", ".crud", ".schemas", ".models"], "external_methods": ["fastapi.FastAPI", "fastapi.Depends", "fastapi.middleware.cors.CORSMiddleware", ".database.init_db", ".auth.get_current_user", "crud.create_game", "crud.list_games_for_user", "crud.get_game", "crud.add_move", "crud.list_moves_for_game"], "published": ["app"], "classes": [{"name": "FastAPI", "description": "The main application object for the FastAPI backend."}, {"name": "APIRouter", "description": "Router class used to define modular route groups for /games and /moves."}], "methods": [{"name": "health_check()", "description": "Health endpoint that returns the backend health status.", "scope": "", "scopeKind": ""}, {"name": "on_startup()", "description": "Event hook to initialize the database on startup.", "scope": "", "scopeKind": ""}, {"name": "create_game( game: schemas.GameCreate, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )", "description": "Endpoint to create a new game, requires authentication.", "scope": "", "scopeKind": ""}, {"name": "list_my_games( db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )", "description": "Endpoint to list all games for the current user.", "scope": "", "scopeKind": ""}, {"name": "get_game( game_id: int, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )", "description": "Retrieve game details by ID with access control.", "scope": "", "scopeKind": ""}, {"name": "make_move( game_id: int, move: schemas.MoveCreate, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )", "description": "Record a move within a game, with authorization checks.", "scope": "", "scopeKind": ""}, {"name": "get_moves( game_id: int, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )", "description": "List all moves for a specific game with access control.", "scope": "", "scopeKind": ""}], "calls": ["database.init_db", "crud.create_game", "crud.list_games_for_user", "crud.get_game", "crud.add_move", "crud.list_moves_for_game"], "search-terms": ["Tic Tac Toe API backend", "Game creation endpoint", "Move recording route", "Authorization dependencies", "Database startup event", "CORS middleware setup"], "state": 2, "file_id": 1, "knowledge_revision": 25, "git_revision": "8a3dfe0d0a4ea3ee59166e9a4c3cfc037fc2dd80", "revision_history": [{"8": "f86dbd5bcc6dcc8c6dbe56ac010d51bb76a6e4bf"}, {"17": "f86dbd5bcc6dcc8c6dbe56ac010d51bb76a6e4bf"}, {"20": "750679d746edc4e92ec0a5d8fefc9d83f9027ffd"}, {"24": "750679d746edc4e92ec0a5d8fefc9d83f9027ffd"}, {"25": "8a3dfe0d0a4ea3ee59166e9a4c3cfc037fc2dd80"}], "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "auth_router", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^from .auth import router as auth_router, get_current_user$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}, {"_type": "tag", "name": "create_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def create_game($/", "language": "Python", "kind": "function", "signature": "( game: schemas.GameCreate, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )"}, {"_type": "tag", "name": "game_router", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^game_router = APIRouter(prefix=\"\\/games\", tags=[\"Games\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def get_game($/", "language": "Python", "kind": "function", "signature": "( game_id: int, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )"}, {"_type": "tag", "name": "get_moves", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def get_moves($/", "language": "Python", "kind": "function", "signature": "( game_id: int, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_my_games", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def list_my_games($/", "language": "Python", "kind": "function", "signature": "( db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )"}, {"_type": "tag", "name": "make_move", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def make_move($/", "language": "Python", "kind": "function", "signature": "( game_id: int, move: schemas.MoveCreate, db: Session = Depends(get_db), current_user: models.User = Depends(get_current_user) )"}, {"_type": "tag", "name": "move_router", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^move_router = APIRouter(prefix=\"\\/moves\", tags=[\"Moves\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "on_startup", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-49295-49304/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def on_startup():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "4f854c200cef1ff79071d5c4a063ca9d", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "game_router = APIRouter(prefix=\"\\/games\", tags=[\"Games\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "move_router = APIRouter(prefix=\"\\/moves\", tags=[\"Moves\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}